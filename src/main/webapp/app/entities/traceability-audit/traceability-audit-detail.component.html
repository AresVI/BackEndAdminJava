
<div *ngIf="traceabilityAudit">
    <h2>{{traceabilityAudit.name}}
        <span class="badge badge-success" [hidden]="!traceabilityAudit.category">
            <span jhiTranslate="aresViApp.traceabilityAudit.category">Category</span>
            {{traceabilityAudit.category}}
        </span>
    </h2>
    <hr/>
    <jhi-alert-error></jhi-alert-error>

    <dl class="row-md jh-entity-details">
        <dt><span jhiTranslate="aresViApp.traceabilityAudit.creationDate">Creation Date</span></dt>
        <dd>
            <span>{{traceabilityAudit.creationDate | date:'medium'}}</span>
        </dd>
        <dt><span jhiTranslate="aresViApp.traceabilityAudit.company">Company</span></dt>
        <dd>
            <div *ngIf="traceabilityAudit.companyId">
                <a [routerLink]="['/company', traceabilityAudit.companyId]">{{traceabilityAudit.company.name}} ({{traceabilityAudit.company.identifier}})</a>
            </div>
        </dd>
        <dt><span jhiTranslate="aresViApp.traceabilityAudit.status">Status</span></dt>
        <dd>
            <span jhiTranslate="aresViApp.traceabilityAudit.status_values.{{traceabilityAudit.status}}">{{traceabilityAudit.status}}</span>
        </dd>
        <dt><span jhiTranslate="aresViApp.traceabilityAudit.category">Category</span></dt>
        <dd>
            <span jhiTranslate="aresViApp.traceabilityAudit.category">Category</span> {{traceabilityAudit.category}}
        </dd>
    </dl>

    <hr/>

    <div class="card" [hidden]="traceabilityAudit.category">
        <div class="card-body">
            <a class="btn btn-success btn-block btn-lg" [routerLink]="['/recommendation', traceabilityAudit.recommendationSet[0].id]">
                <span class="fa fa-file-text-o"></span>
                <span class="d-none d-md-inline" jhiTranslate="aresViApp.traceabilityAudit.action.audit">Audit</span>
            </a>
        </div>
    </div>

    <div class="card" *ngFor="let recommendation of traceabilityAudit.recommendationSet" [hidden]="!traceabilityAudit.category">

        <h3 class="card-header">{{ recommendation.name }}</h3>

        <div class="card-body">

            <ul class="list-group">
                <li class="list-group-item" *ngFor="let auditProcessRecom of recommendation.auditProcessRecommendationSet">

                    <h4 class="mb-1 w-100">
                        <span jhiTranslate="aresViApp.auditProcess.detail.title">Process</span>:
                        {{auditProcessRecom.auditProcess.name}}
                    </h4>

                    <div class="m-2 w-100" *ngFor="let auditTaskRecom of auditProcessRecom.auditTaskRecommendationSet">
                        <h5>  {{auditTaskRecom.auditTask.name}} </h5>
                        <ul>
                            <li *ngFor="let categoryAttrRecom of auditTaskRecom.categoryAttrRecommendationSet">
                                <p><strong>{{categoryAttrRecom.categoryAttribute.name}}</strong></p>
                                <ul>
                                    <li *ngFor="let attributeRecom of categoryAttrRecom.attributeRecommendationSet"  [ngSwitch]="attributeRecom.implemented">
                                        <p class="text-success" *ngSwitchCase="true">{{attributeRecom.attribute.name}}</p>
                                        <p class="text-danger" *ngSwitchCase="false">{{attributeRecom.attribute.name}}</p>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                </li>
            </ul>

        </div>

    </div>

    <hr/>

    <button type="submit"
            [routerLink]="['/process/audit/dashboard']"
            class="btn btn-info">
        <span class="fa fa-arrow-left"></span>&nbsp;<span jhiTranslate="entity.action.back"> Back</span>
    </button>

</div>
